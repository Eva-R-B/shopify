<style>
.footer-newsletter {
    max-width: 750px;
    margin: 50px auto 40px auto;
    text-align: center;
    background: 
    {% comment %} customer can decide if they want a color or image background and after image selected the overlay opacity can be chosen also. {% endcomment %}
        {% if section.settings.bg_type == 'image' and section.settings.bg_image != blank %}
            url({{ section.settings.bg_image | img_url: '1500x' }}) center/cover no-repeat
        {% else %}
     {{ section.settings.bg_color | default: '#FBFBFB' }}
     
        {% endif %};
    padding: 82px 24px 88px 24px;
    border-radius: 12px;
      {% comment %} box-shadow: 0 2px 8px rgba(175, 116, 13, 0.04); {% endcomment %}
    overflow: hidden;
    position: relative;
}

{% if section.settings.bg_type == 'image' and section.settings.bg_image != blank %}
.footer-newsletter::before {
    content: "";
    position: absolute;
    inset: 0;
    background: {{ section.settings.overlay_color | default: 'rgba(52, 51, 50, 1)' | replace: '#', 'rgba(' | append: ', ' | append: section.settings.overlay_opacity | append: ')' }};
    {% comment %}
    If overlay_color is set, use it with opacity. Otherwise, fallback to default rgba(52, 51, 50, opacity).
    {% endcomment %}
    {% if section.settings.overlay_color != blank %}
        background: {{ section.settings.overlay_color | color_modify: 'alpha', section.settings.overlay_opacity | default: 0.4 }};
    {% else %}
        background: rgba(52, 51, 50, {{ section.settings.overlay_opacity | default: 0.4 }});
    {% endif %}
    z-index: 0;
}

{% endif %}

.footer-newsletter h3 {
    margin-bottom: 16px;
    color: #343332;
    font-size: 1.5rem;
    font-weight: 600;
    letter-spacing: 0.01em;
}

.footer-newsletter form {
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

.footer-newsletter input[type="email"] {
    padding: 12px;
    border: 1px solid #ececec;
    border-radius: 4px;
    flex: 1 1 220px;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.2s;
}

.footer-newsletter input[type="email"]:focus {
    border-color: #343332;
}

.footer-newsletter button[type="submit"] {
    padding: 12px 28px;
    background: var(--color-accent, #343332);
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
}

.footer-newsletter button[type="submit"]:hover {
    background: #232221;
}
</style>

<!-- Newsletter Section -->
<div class="footer-newsletter">
    <h3>{{ section.settings.heading }}</h3>
    <form method="post" action="/contact#footer-newsletter" accept-charset="UTF-8">
        <input type="hidden" name="form_type" value="customer" />
        <input type="hidden" name="utf8" value="âœ“" />
        <input type="email" name="contact[email]" placeholder="{{ section.settings.placeholder }}" required>
        <button type="submit">{{ section.settings.button_label }}</button>
    </form>
</div>

{% schema %}
{
    "name": "Newsletter",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Subscribe to our Newsletter"
        },
        {
            "type": "text",
            "id": "placeholder",
            "label": "Email placeholder",
            "default": "Your email address"
        },
        {
            "type": "text",
            "id": "button_label",
            "label": "Button label",
            "default": "Subscribe"
        },
        {
            "type": "select",
            "id": "bg_type",
            "label": "Background type",
            "options": [
                { "value": "color", "label": "Color" },
                { "value": "image", "label": "Image" }
            ],
            "default": "color"
        },
        {
            "type": "color",
            "id": "bg_color",
            "label": "Background color",
            "default": "#fafafa"
        },
        {
            "type": "image_picker",
            "id": "bg_image",
            "label": "Background image"
        },
        {
            "type": "range",
            "id": "overlay_opacity",
            "label": "Overlay darkness (only for image background)",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "default": 0.4
        },
        {
            "type": "color",
            "id": "overlay_color",
            "label": "Overlay color (only for image background)",
            "default": "#343332"
        }
    ],
    "presets": [
        {
            "name": "Newsletter"
        }
    ]
}
{% endschema %}