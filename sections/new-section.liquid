
<style>
.picture-text-section {
display: flex;
align-items: center;
gap: 40px;
min-height: 60vh;
max-width: 1400px;
margin: auto;
padding:5%;
}
.picture-text-section--reverse {
flex-direction: row-reverse;
}
.picture-text-section__image {
flex: 1;
.imgclass{
    width: 100%;
    height: 50vh;
    object-fit: cover;
    border-radius: 8px;
    background: #f7f7f7;}
}
.picture-text-section__content {
flex: 1;
}
.picture-text-section__title {
font-size: var(--h2-font-size);
font-weight: var(--h2-font-weight);
margin-bottom: 30px;
color: var(--accent-color);
}
.picture-text-section__text {
font-family: 'Open Sans', Arial, sans-serif;
font-size: 1rem;
margin-bottom: 24px;
}
.responsive-image-block.placeholder {
    opacity: 0.5;
    width:400px;
    height: 400px;
}
.picture-text-section__button.btn {
    display: inline-block;
    padding: 10px 24px;
    background: var(--accent-color);
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    font-size: 1rem;
}
</style>

<div class="picture-text-section{% if section.settings.image_position == 'right' %} picture-text-section--reverse{% endif %}">
    <div class="picture-text-section__image">
        {% if section.settings.asset_image != blank %}
            {% comment %} Use asset image if specified {% endcomment %}
            <img src="{{ section.settings.asset_image | asset_url }}" alt="{{ section.settings.title | escape }}" class="imgclass">
        {% elsif section.settings.image != blank %}
            {% comment %} Check if it's a simple filename (asset) or an image object {% endcomment %}
            {% assign image_string = section.settings.image | string %}
            {% if image_string contains '.jpg' or image_string contains '.jpeg' or image_string contains '.png' or image_string contains '.webp' %}
                {% comment %} It's a filename, treat as asset {% endcomment %}
                <img src="{{ section.settings.image | asset_url }}" alt="{{ section.settings.title | escape }}" class="imgclass">
            {% else %}
                {% comment %} It's an uploaded image object {% endcomment %}
                <img src="{{ section.settings.image | img_url: '900x' }}" alt="{{ section.settings.title | escape }}" class="imgclass">
            {% endif %}
        {% else %}
            <img 
                class="responsive-image-block placeholder"
                src="{{ 'placeholder.png' | asset_url }}" 
                alt="Placeholder image"
                loading="lazy"
            >
        {% endif %}
    </div>
    <div class="picture-text-section__content">
        <h2 class="picture-text-section__title">{{ section.settings.title }}</h2>
        <p class="picture-text-section__text">{{ section.settings.text }}</p>
        {% if section.settings.button_text != blank and section.settings.button_link != blank %}
            <a href="{{ section.settings.button_link }}" class="picture-text-section__button btn">
                {{ section.settings.button_text }}
            </a>
        {% endif %}
    </div>
</div>

{% comment %} type text id asset-image : Creates a text input where you can type just the filename of an image from your assets folder. {% endcomment %}
{% schema %}
{
    "name": "Picture Text Section",
    "settings": [
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        
        {
            "type": "text",
            "id": "asset_image",
            "label": "Asset Image Filename (optional)",
            "info": "If specified, this will override the image picker above. Enter just the filename (e.g., forsidedefault.jpeg)"
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Fill out section title"
        },
        {
            "type": "textarea",
            "id": "text",
            "label": "Text",
            "default": "Here you write your own text: Lorem ipsum dolor sit amet, consectetur adipiscing elit. <br> Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
        },
        {
            "type": "text",
            "id": "button_text",
            "label": "Button Text",
            "default": "Learn More"
        },
        {
            "type": "url",
            "id": "button_link",
            "label": "Button Link"
        },
        {
            "type": "select",
            "id": "image_position",
            "label": "Image Position",
            "options": [
                { "value": "left", "label": "Left" },
                { "value": "right", "label": "Right" }
            ],
            "default": "left"
        }
    ],
    "presets": [
        {
            "name": "Picture Text Section",
            "category": "Custom Sections"
        }
    ]
}
{% endschema %}


